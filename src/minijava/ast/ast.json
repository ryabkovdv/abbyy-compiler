{
    "<template>": "ast-template.tpp",
    "<types>": {
        "<default>": "$T const*",
        "<array>": "Span<$T const>",
        "bool": "bool",
        "string": "std::string_view",
        "symbol": "Symbol",
        "loc": "Location",
        "MethodAccess": "MethodAccess",
        "Parameter": "Parameter"
    },

    "Parameter": {
        "name": "symbol",
        "type": "symbol",
        "name_loc": "loc",
        "type_loc": "loc"
    },

    "ClassDecl": {
        "name": "symbol",
        "base": "symbol",
        "records": "[]ClassRecord",
        "name_loc": "loc",
        "base_loc": "loc"
    },

    "ClassRecord": {},
    "ClassVarDecl": {
        "<base>": "ClassRecord",
        "name": "symbol",
        "type": "symbol",
        "name_loc": "loc",
        "type_loc": "loc"
    },
    "MethodDecl": {
        "<base>": "ClassRecord",
        "access": "MethodAccess",
        "name": "symbol",
        "retty": "symbol",
        "params": "[]Parameter",
        "body": "[]Stmt",
        "name_loc": "loc",
        "retty_loc": "loc"
    },

    "Stmt": {},
    "LocalVarDecl": {
        "<base>": "Stmt",
        "name": "symbol",
        "type": "symbol",
        "name_loc": "loc",
        "type_loc": "loc"
    },
    "CompoundStmt": {
        "<base>": "Stmt",
        "body": "[]Stmt"
    },
    "IfStmt": {
        "<base>": "Stmt",
        "cond": "Expr",
        "then_branch": "Stmt",
        "else_branch": "Stmt"
    },
    "WhileStmt": {
        "<base>": "Stmt",
        "cond": "Expr",
        "body": "Stmt"
    },
    "ReturnStmt": {
        "<base>": "Stmt",
        "expr": "Expr"
    },
    "PrintStmt": {
        "<base>": "Stmt",
        "args": "[]Expr"
    },
    "AssignStmt": {
        "<base>": "Stmt",
        "lhs": "Expr",
        "rhs": "Expr",
        "loc": "loc"
    },

    "Expr": {
        "<base>": "Stmt",
        "loc": "loc"
    },
    "BinaryExpr": {
        "<base>": "Expr",
        "lhs": "Expr",
        "rhs": "Expr",
        "op_loc": "loc"
    },
    "MulExpr": { "<base>": "BinaryExpr" },
    "DivExpr": { "<base>": "BinaryExpr" },
    "RemExpr": { "<base>": "BinaryExpr" },
    "AddExpr": { "<base>": "BinaryExpr" },
    "SubExpr": { "<base>": "BinaryExpr" },
    "EqExpr":  { "<base>": "BinaryExpr" },
    "NeExpr":  { "<base>": "BinaryExpr" },
    "LtExpr":  { "<base>": "BinaryExpr" },
    "LeExpr":  { "<base>": "BinaryExpr" },
    "GtExpr":  { "<base>": "BinaryExpr" },
    "GeExpr":  { "<base>": "BinaryExpr" },
    "AndExpr": { "<base>": "BinaryExpr" },
    "OrExpr":  { "<base>": "BinaryExpr" },

    "UnaryExpr": {
        "<base>": "Expr",
        "expr": "Expr"
    },
    "NotExpr": { "<base>": "UnaryExpr" },
    "NegExpr": { "<base>": "UnaryExpr" },

    "SubscriptExpr": {
        "<base>": "Expr",
        "array": "Expr",
        "index": "Expr"
    },
    "CallExpr": {
        "<base>": "Expr",
        "object": "Expr",
        "name": "symbol",
        "args": "[]Expr",
        "name_loc": "loc",
        "args_loc": "loc"
    },
    "LengthExpr": {
        "<base>": "Expr",
        "expr": "Expr"
    },
    "NewIntArrayExpr": {
        "<base>": "Expr",
        "count": "Expr"
    },
    "NewObjectExpr": {
        "<base>": "Expr",
        "name": "symbol",
        "name_loc": "loc"
    },
    "IdentExpr": {
        "<base>": "Expr",
        "name": "symbol"
    },
    "IntLiteral": {
        "<base>": "Expr",
        "value": "string"
    },
    "BoolLiteral": {
        "<base>": "Expr",
        "value": "bool"
    },
    "NullExpr": {
        "<base>": "Expr"
    },
    "ThisExpr": {
        "<base>": "Expr"
    }
}
